images:
  mysql-5.7:
    category: database
    description: MySQL 5.7 (Legacy)
    environment:
      MYSQL_DATABASE: playground
      MYSQL_ROOT_PASSWORD: playground
    image: mysql:5.7
    keep_alive_cmd: mysqld
    ports:
    - 3307:3306
    shell: /bin/bash

    # Health check to verify MySQL is ready
    healthcheck:
      test: ["CMD", "mysqladmin", "ping", "-h", "localhost", "-u", "root", "-pplayground"]
      interval: "10s"
      timeout: "5s"
      retries: 5
      start_period: "30s"
    motd: |
      â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
      â•‘                   MySQL 5.7 Quick Reference                   â•‘
      â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

      ğŸ” Connection Info:
         Port: 3305
         User: root / Password: playground

      ğŸ“Š Quick Connect:
         mysql -u root -pplayground                    # Connect as root

      ğŸ” Quick Commands:
         mysql -u root -pplayground -e "SELECT version();"  # Check version
         mysql -u root -pplayground -e "SHOW DATABASES;"    # List databases

      ğŸ’¾ Backup:
         mysqldump -u root -pplayground --all-databases > /shared/backup.sql

      ğŸ“ Useful Directories:
         /shared                                   # Shared with host